<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>koji Partner - Atık Ekmek Toplama Uygulaması</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;500;600;700;800;900&family=Inter:wght@300;400;500;600;700&display=swap');
        
        .elegant-title {
            font-family: 'Playfair Display', serif;
        }
        
        body {
            font-family: 'Inter', sans-serif;
        }
        
        .icon-purple {
            color: #5d08af;
        }
        
        .bg-brand {
            background-color: #5d08af;
        }
        
        .text-brand {
            color: #5d08af;
        }
        
        .mobile-frame {
            width: 375px;
            height: 812px;
            background: #000;
            border-radius: 40px;
            padding: 8px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
        }
        
        .mobile-screen {
            width: 100%;
            height: 100%;
            background: #fff;
            border-radius: 32px;
            overflow: hidden;
            position: relative;
            display: flex;
            flex-direction: column;
        }
        
        .status-bar {
            height: 44px;
            background: #000;
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0 20px;
            color: white;
            font-size: 14px;
            font-weight: 600;
        }
        
        .floating-btn {
            position: fixed;
            bottom: 30px;
            right: 30px;
            width: 60px;
            height: 60px;
            background: #5d08af;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 24px;
            box-shadow: 0 8px 25px rgba(93, 8, 175, 0.4);
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .floating-btn:hover {
            transform: scale(1.1);
        }
        
        .tab-active {
            background: #5d08af;
            color: white;
        }
        
        .progress-ring {
            transform: rotate(-90deg);
        }
        
        .progress-ring-circle {
            stroke-dasharray: 251.2;
            stroke-dashoffset: 125.6;
            transition: stroke-dashoffset 0.35s;
        }
        
        .bounce {
            animation: bounce 2s infinite;
        }
        
        @keyframes bounce {
            0%, 20%, 53%, 80%, 100% {
                transform: translate3d(0,0,0);
            }
            40%, 43% {
                transform: translate3d(0,-15px,0);
            }
            70% {
                transform: translate3d(0,-7px,0);
            }
            90% {
                transform: translate3d(0,-2px,0);
            }
        }
        
        /* Mobile responsive navigation styles */
        .safe-area-pb {
            padding-bottom: env(safe-area-inset-bottom, 0px);
        }
        
        /* Touch-friendly button sizing */
        @media (max-width: 375px) {
            .mobile-nav-btn {
                min-height: 44px;
                min-width: 44px;
            }
            
            .mobile-nav-btn span:first-child {
                font-size: 16px;
            }
            
            .mobile-nav-btn span:last-child {
                font-size: 10px;
                line-height: 1.2;
            }
        }
        
        /* Improved touch targets for mobile */
        @media (hover: none) and (pointer: coarse) {
            .mobile-nav-btn {
                min-height: 48px;
                padding: 8px 4px;
            }
        }
        
        /* Landscape orientation adjustments */
        @media (orientation: landscape) and (max-height: 500px) {
            .mobile-nav-btn span:last-child {
                display: none;
            }
            
            .mobile-nav-btn {
                padding: 6px 4px;
            }
        }
        
        /* Hidden Side Menu Styles */
        .side-menu {
            position: absolute;
            left: -200px;
            top: 44px;
            bottom: 0;
            width: 200px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            backdrop-filter: blur(20px);
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            z-index: 1000;
            border-radius: 0 20px 20px 0;
            box-shadow: 5px 0 25px rgba(0,0,0,0.2);
        }
        
        .side-menu.open {
            left: 0;
        }
        
        /* Burger Menu Icon */
        .burger-menu {
            position: absolute;
            top: 52px;
            right: 8px;
            width: 36px;
            height: 36px;
            background: rgba(93, 8, 175, 0.9);
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            z-index: 1001;
            transition: all 0.3s ease;
            box-shadow: 0 2px 8px rgba(0,0,0,0.2);
        }
        
        .burger-menu:hover {
            background: rgba(93, 8, 175, 1);
            transform: scale(1.05);
        }
        
        .burger-icon {
            width: 18px;
            height: 14px;
            position: relative;
        }
        
        .burger-icon span {
            display: block;
            height: 2px;
            width: 100%;
            background: white;
            border-radius: 1px;
            position: absolute;
            transition: all 0.3s ease;
        }
        
        .burger-icon span:nth-child(1) { top: 0; }
        .burger-icon span:nth-child(2) { top: 6px; }
        .burger-icon span:nth-child(3) { top: 12px; }
        
        .burger-menu.active .burger-icon span:nth-child(1) {
            transform: rotate(45deg);
            top: 6px;
        }
        
        .burger-menu.active .burger-icon span:nth-child(2) {
            opacity: 0;
        }
        
        .burger-menu.active .burger-icon span:nth-child(3) {
            transform: rotate(-45deg);
            top: 6px;
        }
        
        .menu-item {
            display: flex;
            align-items: center;
            padding: 16px 20px;
            color: white;
            text-decoration: none;
            transition: all 0.2s ease;
            border-left: 4px solid transparent;
        }
        
        .menu-item:hover {
            background: rgba(255,255,255,0.1);
            border-left-color: white;
            transform: translateX(5px);
        }
        
        .menu-item.active {
            background: rgba(255,255,255,0.2);
            border-left-color: white;
        }
        
        .menu-icon {
            width: 24px;
            height: 24px;
            margin-right: 16px;
            flex-shrink: 0;
        }
        
        .menu-text {
            font-weight: 500;
            font-size: 14px;
        }
        
        /* Rainbow colored flat icons */
        .icon-red { color: #ff6b6b; }
        .icon-orange { color: #ffa726; }
        .icon-yellow { color: #ffeb3b; }
        .icon-green { color: #66bb6a; }
        .icon-blue { color: #42a5f5; }
        .icon-indigo { color: #5c6bc0; }
        .icon-purple { color: #ab47bc; }
        .icon-pink { color: #ec407a; }
        .icon-teal { color: #26a69a; }
        
        /* Menu trigger area */
        .menu-trigger {
            position: absolute;
            left: 0;
            top: 44px;
            bottom: 0;
            width: 20px;
            z-index: 999;
            background: transparent;
        }
        
        /* Voice Assistant Styles */
        .voice-assistant {
            position: fixed;
            bottom: 100px;
            right: 30px;
            width: 60px;
            height: 60px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 24px;
            box-shadow: 0 8px 25px rgba(102, 126, 234, 0.4);
            cursor: pointer;
            transition: all 0.3s ease;
            z-index: 1000;
        }
        
        .voice-assistant:hover {
            transform: scale(1.1);
            box-shadow: 0 12px 35px rgba(102, 126, 234, 0.6);
        }
        
        .voice-assistant.listening {
            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);
            animation: pulse-voice 1.5s infinite;
        }
        
        .voice-assistant.processing {
            background: linear-gradient(135deg, #ffa726 0%, #ff9800 100%);
            animation: spin 1s linear infinite;
        }
        
        @keyframes pulse-voice {
            0% {
                transform: scale(1);
                box-shadow: 0 8px 25px rgba(255, 107, 107, 0.4);
            }
            50% {
                transform: scale(1.1);
                box-shadow: 0 12px 35px rgba(255, 107, 107, 0.8);
            }
            100% {
                transform: scale(1);
                box-shadow: 0 8px 25px rgba(255, 107, 107, 0.4);
            }
        }
        
        @keyframes spin {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }
        
        /* Voice Status Indicator */
        .voice-status {
            position: fixed;
            bottom: 170px;
            right: 30px;
            background: rgba(0, 0, 0, 0.8);
            color: white;
            padding: 8px 16px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 600;
            opacity: 0;
            transform: translateY(10px);
            transition: all 0.3s ease;
            z-index: 1001;
            backdrop-filter: blur(10px);
        }
        
        .voice-status.show {
            opacity: 1;
            transform: translateY(0);
        }
        
        /* Voice Commands Help */
        .voice-help {
            position: fixed;
            bottom: 170px;
            right: 100px;
            background: white;
            border-radius: 15px;
            padding: 16px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
            max-width: 250px;
            opacity: 0;
            transform: translateX(20px);
            transition: all 0.3s ease;
            z-index: 1001;
            border: 2px solid #667eea;
        }
        
        .voice-help.show {
            opacity: 1;
            transform: translateX(0);
        }
        
        .voice-help h4 {
            color: #667eea;
            font-weight: bold;
            margin-bottom: 8px;
            font-size: 14px;
        }
        
        .voice-help ul {
            list-style: none;
            padding: 0;
            margin: 0;
        }
        
        .voice-help li {
            padding: 4px 0;
            font-size: 12px;
            color: #666;
            border-bottom: 1px solid #f0f0f0;
        }
        
        .voice-help li:last-child {
            border-bottom: none;
        }
        
        .voice-help li:before {
            content: "🎤";
            margin-right: 8px;
        }
    </style>
</head>
<body class="bg-gray-100 min-h-screen flex items-center justify-center p-4">
    
    <!-- Mobile App Frame -->
    <div class="mobile-frame mx-auto">
        <div class="mobile-screen">
            <!-- Status Bar -->
            <div class="status-bar">
                <span>9:41</span>
                <span>🔋 100%</span>
            </div>
            


            <!-- Burger Menu Button -->
            <div class="burger-menu" onclick="toggleSideMenu()">
                <div class="burger-icon">
                    <span></span>
                    <span></span>
                    <span></span>
                </div>
            </div>
            
            <!-- Hidden Side Menu -->
            <div class="side-menu" id="side-menu">
                <div class="p-6 border-b border-white/20">
                    <h3 class="text-white font-bold text-lg">koji Menu</h3>
                    <p class="text-white/70 text-sm">Hızlı erişim</p>
                </div>
                
                <div class="py-4">
                    <a href="#" onclick="showHomeScreen()" class="menu-item active">
                        <svg class="menu-icon icon-red" fill="currentColor" viewBox="0 0 24 24">
                            <path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/>
                        </svg>
                        <span class="menu-text">Ana Sayfa</span>
                    </a>
                    
                    <a href="#" onclick="showCollectionScreen()" class="menu-item">
                        <svg class="menu-icon icon-orange" fill="currentColor" viewBox="0 0 24 24">
                            <path d="M18 9V7c0-2.21-1.79-4-4-4H8C5.79 3 4 4.79 4 7v2c-1.1 0-2 .9-2 2v8c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2v-8c0-1.1-.9-2-2-2zm-8-4h4c1.1 0 2 .9 2 2v2H8V7c0-1.1.9-2 2-2z"/>
                        </svg>
                        <span class="menu-text">Ekmek Teslimi</span>
                    </a>
                    
                    <a href="#" onclick="showHistoryScreen()" class="menu-item">
                        <svg class="menu-icon icon-yellow" fill="currentColor" viewBox="0 0 24 24">
                            <path d="M3 18h6v-2H3v2zM3 6v2h18V6H3zm0 7h12v-2H3v2z"/>
                        </svg>
                        <span class="menu-text">Geçmiş</span>
                    </a>
                    
                    <a href="#" onclick="showRewardsScreen()" class="menu-item">
                        <svg class="menu-icon icon-green" fill="currentColor" viewBox="0 0 24 24">
                            <path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"/>
                        </svg>
                        <span class="menu-text">Ödüller</span>
                    </a>
                    
                    <a href="#" onclick="showMapScreen()" class="menu-item">
                        <svg class="menu-icon icon-blue" fill="currentColor" viewBox="0 0 24 24">
                            <path d="M20.5 3l-.16.03L15 5.1 9 3 3.36 4.9c-.21.07-.36.25-.36.48V20.5c0 .28.22.5.5.5l.16-.03L9 18.9l6 2.1 5.64-1.9c.21-.07.36-.25.36-.48V3.5c0-.28-.22-.5-.5-.5zM15 19l-6-2.11V5l6 2.11V19z"/>
                        </svg>
                        <span class="menu-text">Harita</span>
                    </a>
                    
                    <a href="#" onclick="showImpactScreen()" class="menu-item">
                        <svg class="menu-icon icon-indigo" fill="currentColor" viewBox="0 0 24 24">
                            <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-1 17.93c-3.94-.49-7-3.85-7-7.93 0-.62.08-1.21.21-1.79L9 15v1c0 1.1.9 2 2 2v1.93zm6.9-2.54c-.26-.81-1-1.39-1.9-1.39h-1v-3c0-.55-.45-1-1-1H8v-2h2c.55 0 1-.45 1-1V7h2c1.1 0 2-.9 2-2v-.41c2.93 1.19 5 4.06 5 7.41 0 2.08-.8 3.97-2.1 5.39z"/>
                        </svg>
                        <span class="menu-text">Çevresel Etki</span>
                    </a>
                    
                    <a href="#" onclick="showBusinessScreen()" class="menu-item">
                        <svg class="menu-icon icon-purple" fill="currentColor" viewBox="0 0 24 24">
                            <path d="M12 7V3H2v18h20V7H12zM6 19H4v-2h2v2zm0-4H4v-2h2v2zm0-4H4V9h2v2zm0-4H4V5h2v2zm4 12H8v-2h2v2zm0-4H8v-2h2v2zm0-4H8V9h2v2zm0-4H8V5h2v2zm10 12h-8v-2h2v-2h-2v-2h2v-2h-2V9h8v10zm-2-8h-2v2h2v-2zm0 4h-2v2h2v-2z"/>
                        </svg>
                        <span class="menu-text">İşletme Paneli</span>
                    </a>
                    
                    <div class="border-t border-white/20 mt-4 pt-4">
                        <a href="#" onclick="showSettings()" class="menu-item">
                            <svg class="menu-icon icon-pink" fill="currentColor" viewBox="0 0 24 24">
                                <path d="M19.14,12.94c0.04-0.3,0.06-0.61,0.06-0.94c0-0.32-0.02-0.64-0.07-0.94l2.03-1.58c0.18-0.14,0.23-0.41,0.12-0.61 l-1.92-3.32c-0.12-0.22-0.37-0.29-0.59-0.22l-2.39,0.96c-0.5-0.38-1.03-0.7-1.62-0.94L14.4,2.81c-0.04-0.24-0.24-0.41-0.48-0.41 h-3.84c-0.24,0-0.43,0.17-0.47,0.41L9.25,5.35C8.66,5.59,8.12,5.92,7.63,6.29L5.24,5.33c-0.22-0.08-0.47,0-0.59,0.22L2.74,8.87 C2.62,9.08,2.66,9.34,2.86,9.48l2.03,1.58C4.84,11.36,4.8,11.69,4.8,12s0.02,0.64,0.07,0.94l-2.03,1.58 c-0.18,0.14-0.23,0.41-0.12,0.61l1.92,3.32c0.12,0.22,0.37,0.29,0.59,0.22l2.39-0.96c0.5,0.38,1.03,0.7,1.62,0.94l0.36,2.54 c0.05,0.24,0.24,0.41,0.48,0.41h3.84c0.24,0,0.44-0.17,0.47-0.41l0.36-2.54c0.59-0.24,1.13-0.56,1.62-0.94l2.39,0.96 c0.22,0.08,0.47,0,0.59-0.22l1.92-3.32c0.12-0.22,0.07-0.47-0.12-0.61L19.14,12.94z M12,15.6c-1.98,0-3.6-1.62-3.6-3.6 s1.62-3.6,3.6-3.6s3.6,1.62,3.6,3.6S13.98,15.6,12,15.6z"/>
                            </svg>
                            <span class="menu-text">Ayarlar</span>
                        </a>
                        
                        <a href="#" onclick="showProfile()" class="menu-item">
                            <svg class="menu-icon icon-teal" fill="currentColor" viewBox="0 0 24 24">
                                <path d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"/>
                            </svg>
                            <span class="menu-text">Profil</span>
                        </a>
                    </div>
                </div>
            </div>
            

            
            <!-- App Content -->
            <div id="app-content" class="flex-1 bg-white overflow-hidden">
                
                <!-- Role Selection Screen -->
                <div id="role-screen" class="h-full flex flex-col overflow-hidden">
                    <!-- Compact Header -->
                    <div class="bg-gradient-to-br from-purple-600 via-purple-700 to-blue-600 text-white relative overflow-hidden px-6 py-8">
                        <!-- Background Pattern -->
                        <div class="absolute inset-0 opacity-10">
                            <svg class="w-full h-full" viewBox="0 0 100 100" preserveAspectRatio="none">
                                <defs>
                                    <pattern id="grain" patternUnits="userSpaceOnUse" width="4" height="4">
                                        <circle cx="2" cy="2" r="0.5" fill="white" opacity="0.3"/>
                                    </pattern>
                                </defs>
                                <rect width="100" height="100" fill="url(#grain)"/>
                            </svg>
                        </div>
                        
                        <!-- Floating Elements -->
                        <div class="absolute top-4 left-4 w-2 h-2 bg-white/20 rounded-full animate-pulse"></div>
                        <div class="absolute top-6 right-8 w-1.5 h-1.5 bg-white/30 rounded-full animate-pulse" style="animation-delay: 1s;"></div>
                        <div class="absolute bottom-4 left-12 w-3 h-3 bg-white/15 rounded-full animate-pulse" style="animation-delay: 2s;"></div>
                        
                        <!-- Content Container -->
                        <div class="relative z-10 text-center">
                            <!-- Compact Logo -->
                            <div class="relative mb-4">
                                <div class="w-16 h-16 bg-white/20 backdrop-blur-sm rounded-2xl flex items-center justify-center mx-auto shadow-2xl border border-white/30">
                                    <svg class="w-8 h-8 text-white drop-shadow-lg" fill="currentColor" viewBox="0 0 24 24">
                                        <path d="M18 9V7c0-2.21-1.79-4-4-4H8C5.79 3 4 4.79 4 7v2c-1.1 0-2 .9-2 2v8c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2v-8c0-1.1-.9-2-2-2zm-8-4h4c1.1 0 2 .9 2 2v2H8V7c0-1.1.9-2 2-2z"/>
                                    </svg>
                                </div>
                            </div>
                            
                            <!-- Brand Name -->
                            <h1 class="text-3xl font-black elegant-title mb-2 tracking-wide">
                                <span class="bg-gradient-to-r from-white to-purple-100 bg-clip-text text-transparent drop-shadow-lg">
                                    koji
                                </span>
                            </h1>
                            
                            <!-- Tagline -->
                            <p class="text-purple-100 text-sm font-medium">
                                Atık ekmeği değere dönüştürüyoruz
                            </p>
                        </div>
                    </div>
                    
                    <!-- Main Content Area - Optimized for One-Hand Use -->
                    <div class="flex-1 px-4 py-6 overflow-y-auto">
                        <!-- Welcome Message -->
                        <div class="text-center mb-6">
                            <h2 class="text-xl font-bold text-gray-800 mb-2">Nasıl katılmak istiyorsunuz?</h2>
                            <p class="text-gray-600 text-sm">Size uygun rolü seçin</p>
                        </div>
                        
                        <!-- Role Selection Cards - Thumb-Friendly Design -->
                        <div class="space-y-4 mb-6">
                            <!-- Business Role - Simplified Card -->
                            <div onclick="selectRole('business')" class="group bg-white rounded-2xl shadow-lg border-2 border-transparent hover:border-orange-200 cursor-pointer transition-all duration-300 hover:shadow-xl active:scale-95">
                                <div class="p-5">
                                    <div class="flex items-center mb-4">
                                        <div class="w-12 h-12 bg-gradient-to-br from-orange-100 to-orange-200 rounded-xl flex items-center justify-center mr-4 shadow-md">
                                            <svg class="w-6 h-6 text-orange-600" fill="currentColor" viewBox="0 0 24 24">
                                                <path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"/>
                                            </svg>
                                        </div>
                                        <div class="flex-1">
                                            <h3 class="text-lg font-bold text-gray-800 group-hover:text-orange-700 transition-colors">İşletme Sahibiyim</h3>
                                            <p class="text-sm text-gray-600">Atık ekmeklerimi vermek istiyorum</p>
                                        </div>
                                    </div>
                                    
                                    <!-- Key Benefits - Condensed -->
                                    <div class="bg-orange-50 rounded-xl p-4 mb-4">
                                        <div class="grid grid-cols-2 gap-2 text-xs text-orange-700">
                                            <div class="flex items-center">
                                                <span class="w-1 h-1 bg-orange-400 rounded-full mr-2"></span>
                                                Atık maliyeti azalır
                                            </div>
                                            <div class="flex items-center">
                                                <span class="w-1 h-1 bg-orange-400 rounded-full mr-2"></span>
                                                Çevre dostu imaj
                                            </div>
                                            <div class="flex items-center">
                                                <span class="w-1 h-1 bg-orange-400 rounded-full mr-2"></span>
                                                Sosyal sorumluluk
                                            </div>
                                            <div class="flex items-center">
                                                <span class="w-1 h-1 bg-orange-400 rounded-full mr-2"></span>
                                                Ücretsiz toplama
                                            </div>
                                        </div>
                                    </div>
                                    
                                    <!-- Action Button -->
                                    <div class="flex items-center justify-between">
                                        <span class="text-xs text-gray-500">Fırın, kafe, restoran</span>
                                        <div class="bg-gradient-to-r from-orange-500 to-orange-600 text-white px-5 py-2.5 rounded-xl font-bold text-sm shadow-lg group-hover:shadow-xl transition-all">
                                            Başla →
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Volunteer Role - Simplified Card -->
                            <div onclick="selectRole('volunteer')" class="group bg-white rounded-2xl shadow-lg border-2 border-transparent hover:border-green-200 cursor-pointer transition-all duration-300 hover:shadow-xl active:scale-95">
                                <div class="p-5">
                                    <div class="flex items-center mb-4">
                                        <div class="w-12 h-12 bg-gradient-to-br from-green-100 to-green-200 rounded-xl flex items-center justify-center mr-4 shadow-md">
                                            <svg class="w-6 h-6 text-green-600" fill="currentColor" viewBox="0 0 24 24">
                                                <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/>
                                            </svg>
                                        </div>
                                        <div class="flex-1">
                                            <h3 class="text-lg font-bold text-gray-800 group-hover:text-green-700 transition-colors">Gönüllü Toplayıcıyım</h3>
                                            <p class="text-sm text-gray-600">Atık ekmekleri toplamak istiyorum</p>
                                        </div>
                                    </div>
                                    
                                    <!-- Key Benefits - Condensed -->
                                    <div class="bg-green-50 rounded-xl p-4 mb-4">
                                        <div class="grid grid-cols-2 gap-2 text-xs text-green-700">
                                            <div class="flex items-center">
                                                <span class="w-1 h-1 bg-green-400 rounded-full mr-2"></span>
                                                Puan kazanın
                                            </div>
                                            <div class="flex items-center">
                                                <span class="w-1 h-1 bg-green-400 rounded-full mr-2"></span>
                                                Ödül alın
                                            </div>
                                            <div class="flex items-center">
                                                <span class="w-1 h-1 bg-green-400 rounded-full mr-2"></span>
                                                Çevreye katkı
                                            </div>
                                            <div class="flex items-center">
                                                <span class="w-1 h-1 bg-green-400 rounded-full mr-2"></span>
                                                Esnek saatler
                                            </div>
                                        </div>
                                    </div>
                                    
                                    <!-- Action Button -->
                                    <div class="flex items-center justify-between">
                                        <span class="text-xs text-gray-500">Bireysel gönüllü</span>
                                        <div class="bg-gradient-to-r from-green-500 to-green-600 text-white px-5 py-2.5 rounded-xl font-bold text-sm shadow-lg group-hover:shadow-xl transition-all">
                                            Başla →
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Bottom Stats - Compact -->
                        <div class="bg-gradient-to-r from-blue-50 to-indigo-50 rounded-2xl p-4 border border-blue-100">
                            <div class="text-center">
                                <h3 class="text-base font-bold text-blue-800 mb-2">Birlikte Fark Yaratıyoruz</h3>
                                <p class="text-sm text-blue-700 mb-3">Her gün tonlarca ekmek çöpe gidiyor</p>
                                
                                <!-- Compact Stats -->
                                <div class="flex justify-center space-x-8">
                                    <div class="text-center">
                                        <div class="text-lg font-bold text-blue-800">2.4T</div>
                                        <div class="text-xs text-blue-600">Bu ay kurtarılan</div>
                                    </div>
                                    <div class="text-center">
                                        <div class="text-lg font-bold text-blue-800">47</div>
                                        <div class="text-xs text-blue-600">Aktif partner</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Bottom Safe Area for One-Hand Use -->
                        <div class="h-8"></div>
                    </div>
                </div>

                <!-- Home Screen -->
                <div id="home-screen" class="h-full flex-col hidden overflow-hidden">
                    <!-- Header -->
                    <div class="bg-brand text-white p-6 pb-8">
                        <div class="flex items-center justify-between mb-4">
                            <div>
                                <h1 class="text-xl font-bold elegant-title">Merhaba, Ahmet Bey!</h1>
                                <p class="text-purple-200 text-sm">Café Aroma - Beşiktaş</p>
                            </div>
                            <div class="w-12 h-12 bg-white/20 rounded-full flex items-center justify-center">
                                <svg class="w-6 h-6 text-white" fill="currentColor" viewBox="0 0 24 24">
                                    <path d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"/>
                                </svg>
                            </div>
                        </div>
                        
                        <!-- Points Display -->
                        <div class="bg-white/10 rounded-2xl p-4 backdrop-blur-sm">
                            <div class="flex items-center justify-between">
                                <div>
                                    <p class="text-purple-200 text-sm">Toplam Puanınız</p>
                                    <p class="text-3xl font-bold">2,847</p>
                                </div>
                                <div class="relative w-16 h-16">
                                    <svg class="progress-ring w-16 h-16">
                                        <circle class="progress-ring-circle stroke-white/30" stroke-width="4" fill="transparent" r="28" cx="32" cy="32"/>
                                        <circle class="progress-ring-circle stroke-yellow-300" stroke-width="4" fill="transparent" r="28" cx="32" cy="32"/>
                                    </svg>
                                    <div class="absolute inset-0 flex items-center justify-center">
                                        <span class="text-xs font-bold">73%</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Quick Actions -->
                    <div class="p-6 -mt-4 flex-1 overflow-y-auto">
                        <div class="bg-white rounded-2xl shadow-lg p-4 mb-6">
                            <h3 class="font-bold text-gray-800 mb-4 flex items-center">
                                <svg class="w-5 h-5 text-purple-600 mr-2" fill="currentColor" viewBox="0 0 24 24">
                                    <path d="M7 2v11h3v9l7-12h-4l4-8z"/>
                                </svg>
                                Hızlı İşlemler
                            </h3>
                            <div class="grid grid-cols-2 gap-3">
                                <button onclick="showCollectionScreen()" class="bg-green-50 border border-green-200 rounded-xl p-4 text-center hover:bg-green-100 transition-colors">
                                    <svg class="w-8 h-8 text-green-600 mx-auto mb-2" fill="currentColor" viewBox="0 0 24 24">
                                        <path d="M18 9V7c0-2.21-1.79-4-4-4H8C5.79 3 4 4.79 4 7v2c-1.1 0-2 .9-2 2v8c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2v-8c0-1.1-.9-2-2-2zm-8-4h4c1.1 0 2 .9 2 2v2H8V7c0-1.1.9-2 2-2z"/>
                                    </svg>
                                    <span class="text-sm font-semibold text-green-700">Ekmek Teslim Et</span>
                                </button>
                                <button onclick="showHistoryScreen()" class="bg-blue-50 border border-blue-200 rounded-xl p-4 text-center hover:bg-blue-100 transition-colors">
                                    <svg class="w-8 h-8 text-blue-600 mx-auto mb-2" fill="currentColor" viewBox="0 0 24 24">
                                        <path d="M3 18h6v-2H3v2zM3 6v2h18V6H3zm0 7h12v-2H3v2z"/>
                                    </svg>
                                    <span class="text-sm font-semibold text-blue-700">Geçmiş</span>
                                </button>
                                <button onclick="showMapScreen()" class="bg-purple-50 border border-purple-200 rounded-xl p-4 text-center hover:bg-purple-100 transition-colors">
                                    <svg class="w-8 h-8 text-purple-600 mx-auto mb-2" fill="currentColor" viewBox="0 0 24 24">
                                        <path d="M20.5 3l-.16.03L15 5.1 9 3 3.36 4.9c-.21.07-.36.25-.36.48V20.5c0 .28.22.5.5.5l.16-.03L9 18.9l6 2.1 5.64-1.9c.21-.07.36-.25.36-.48V3.5c0-.28-.22-.5-.5-.5zM15 19l-6-2.11V5l6 2.11V19z"/>
                                    </svg>
                                    <span class="text-sm font-semibold text-purple-700">Harita</span>
                                </button>
                                <button onclick="showImpactScreen()" class="bg-orange-50 border border-orange-200 rounded-xl p-4 text-center hover:bg-orange-100 transition-colors">
                                    <svg class="w-8 h-8 text-orange-600 mx-auto mb-2" fill="currentColor" viewBox="0 0 24 24">
                                        <path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"/>
                                    </svg>
                                    <span class="text-sm font-semibold text-orange-700">Etki</span>
                                </button>
                            </div>
                        </div>
                        
                        <!-- Today's Stats -->
                        <div class="bg-white rounded-2xl shadow-lg p-4 mb-6">
                            <h3 class="font-bold text-gray-800 mb-4 flex items-center">
                                <svg class="w-5 h-5 text-purple-600 mr-2" fill="currentColor" viewBox="0 0 24 24">
                                    <path d="M16 6l2.29 2.29-4.88 4.88-4-4L2 16.59 3.41 18l6-6 4 4 6.3-6.29L22 12V6z"/>
                                </svg>
                                Bugünkü Durum
                            </h3>
                            <div class="grid grid-cols-3 gap-4">
                                <div class="text-center">
                                    <div class="text-2xl font-bold text-green-600">12kg</div>
                                    <div class="text-xs text-gray-500">Teslim Edilen</div>
                                </div>
                                <div class="text-center">
                                    <div class="text-2xl font-bold text-blue-600">+240</div>
                                    <div class="text-xs text-gray-500">Kazanılan Puan</div>
                                </div>
                                <div class="text-center">
                                    <div class="text-2xl font-bold text-purple-600">14.4kg</div>
                                    <div class="text-xs text-gray-500">CO2 Tasarrufu</div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Recent Activity -->
                        <div class="bg-white rounded-2xl shadow-lg p-4">
                            <h3 class="font-bold text-gray-800 mb-4 flex items-center">
                                <svg class="w-5 h-5 text-purple-600 mr-2" fill="currentColor" viewBox="0 0 24 24">
                                    <path d="M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"/>
                                    <path d="M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z"/>
                                </svg>
                                Son Aktiviteler
                            </h3>
                            <div class="space-y-3">
                                <div class="flex items-center justify-between p-3 bg-green-50 rounded-lg">
                                    <div class="flex items-center">
                                        <svg class="w-5 h-5 text-green-600 mr-3" fill="currentColor" viewBox="0 0 24 24">
                                            <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/>
                                        </svg>
                                        <div>
                                            <p class="font-semibold text-sm">Ekmek Teslimi</p>
                                            <p class="text-xs text-gray-500">8kg - 14:30</p>
                                        </div>
                                    </div>
                                    <span class="text-green-600 font-bold">+160p</span>
                                </div>
                                <div class="flex items-center justify-between p-3 bg-blue-50 rounded-lg">
                                    <div class="flex items-center">
                                        <svg class="w-5 h-5 text-blue-600 mr-3" fill="currentColor" viewBox="0 0 24 24">
                                            <path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"/>
                                        </svg>
                                        <div>
                                            <p class="font-semibold text-sm">Ödül Kullanımı</p>
                                            <p class="text-xs text-gray-500">Kahve kuponu - 12:15</p>
                                        </div>
                                    </div>
                                    <span class="text-blue-600 font-bold">-500p</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Collection Screen -->
                <div id="collection-screen" class="h-full flex-col hidden overflow-hidden">
                    <!-- Header -->
                    <div class="bg-green-600 text-white p-6 pb-8">
                        <div class="flex items-center mb-4">
                            <button onclick="showHomeScreen()" class="mr-4">
                                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path>
                                </svg>
                            </button>
                            <h1 class="text-xl font-bold elegant-title">Ekmek Teslimi</h1>
                        </div>
                        <p class="text-green-200">Atık ekmeklerinizi kaydedin</p>
                    </div>
                    
                    <div class="flex-1 p-6 -mt-4 overflow-y-auto">
                        <!-- Weight Input -->
                        <div class="bg-white rounded-2xl shadow-lg p-6 mb-6">
                            <h3 class="font-bold text-gray-800 mb-4">Ekmek Ağırlığı</h3>
                            <div class="text-center mb-4">
                                <input type="number" id="weight-input" class="text-4xl font-bold text-center border-none outline-none w-full text-green-600" placeholder="0" max="100">
                                <span class="text-2xl text-gray-500">kg</span>
                            </div>
                            <div class="grid grid-cols-4 gap-2 mb-4">
                                <button onclick="setWeight(2)" class="bg-gray-100 p-3 rounded-lg text-center font-semibold hover:bg-gray-200">2kg</button>
                                <button onclick="setWeight(5)" class="bg-gray-100 p-3 rounded-lg text-center font-semibold hover:bg-gray-200">5kg</button>
                                <button onclick="setWeight(10)" class="bg-gray-100 p-3 rounded-lg text-center font-semibold hover:bg-gray-200">10kg</button>
                                <button onclick="setWeight(15)" class="bg-gray-100 p-3 rounded-lg text-center font-semibold hover:bg-gray-200">15kg</button>
                            </div>
                        </div>
                        
                        <!-- Bread Type -->
                        <div class="bg-white rounded-2xl shadow-lg p-6 mb-6">
                            <h3 class="font-bold text-gray-800 mb-4">Ekmek Türü</h3>
                            <div class="grid grid-cols-2 gap-3">
                                <label class="flex items-center p-3 border rounded-lg cursor-pointer hover:bg-gray-50">
                                    <input type="radio" name="bread-type" value="white" class="mr-3">
                                    <svg class="w-5 h-5 text-gray-600 mr-2" fill="currentColor" viewBox="0 0 24 24">
                                        <path d="M18 9V7c0-2.21-1.79-4-4-4H8C5.79 3 4 4.79 4 7v2c-1.1 0-2 .9-2 2v8c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2v-8c0-1.1-.9-2-2-2zm-8-4h4c1.1 0 2 .9 2 2v2H8V7c0-1.1.9-2 2-2z"/>
                                    </svg>
                                    <span>Beyaz Ekmek</span>
                                </label>
                                <label class="flex items-center p-3 border rounded-lg cursor-pointer hover:bg-gray-50">
                                    <input type="radio" name="bread-type" value="whole" class="mr-3">
                                    <svg class="w-5 h-5 text-amber-600 mr-2" fill="currentColor" viewBox="0 0 24 24">
                                        <path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"/>
                                    </svg>
                                    <span>Tam Buğday</span>
                                </label>
                                <label class="flex items-center p-3 border rounded-lg cursor-pointer hover:bg-gray-50">
                                    <input type="radio" name="bread-type" value="rye" class="mr-3">
                                    <svg class="w-5 h-5 text-orange-600 mr-2" fill="currentColor" viewBox="0 0 24 24">
                                        <path d="M18 9V7c0-2.21-1.79-4-4-4H8C5.79 3 4 4.79 4 7v2c-1.1 0-2 .9-2 2v8c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2v-8c0-1.1-.9-2-2-2zm-8-4h4c1.1 0 2 .9 2 2v2H8V7c0-1.1.9-2 2-2z"/>
                                    </svg>
                                    <span>Çavdar</span>
                                </label>
                                <label class="flex items-center p-3 border rounded-lg cursor-pointer hover:bg-gray-50">
                                    <input type="radio" name="bread-type" value="mixed" class="mr-3">
                                    <svg class="w-5 h-5 text-purple-600 mr-2" fill="currentColor" viewBox="0 0 24 24">
                                        <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/>
                                    </svg>
                                    <span>Karışık</span>
                                </label>
                            </div>
                        </div>
                        
                        <!-- Expected Points -->
                        <div class="bg-purple-50 rounded-2xl p-6 mb-6 border border-purple-200">
                            <div class="flex items-center justify-between">
                                <div>
                                    <p class="text-purple-700 font-semibold">Kazanacağınız Puan</p>
                                    <p class="text-sm text-purple-600">20 puan/kg</p>
                                </div>
                                <div class="text-3xl font-bold text-purple-600" id="expected-points">0</div>
                            </div>
                        </div>
                        
                        <!-- Submit Button -->
                        <button onclick="submitCollection()" class="w-full bg-green-600 text-white py-4 rounded-2xl font-bold text-lg hover:bg-green-700 transition-colors">
                            Teslimi Kaydet
                        </button>
                    </div>
                </div>
                
                <!-- History Screen -->
                <div id="history-screen" class="h-full flex-col hidden overflow-hidden">
                    <div class="bg-blue-600 text-white p-6 pb-8">
                        <div class="flex items-center mb-4">
                            <button onclick="showHomeScreen()" class="mr-4">
                                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path>
                                </svg>
                            </button>
                            <h1 class="text-xl font-bold elegant-title">Geçmiş</h1>
                        </div>
                    </div>
                    
                    <div class="flex-1 p-6 -mt-4 overflow-y-auto">
                        <!-- Stats Cards -->
                        <div class="grid grid-cols-2 gap-4 mb-6">
                            <div class="bg-white rounded-xl shadow-lg p-4 text-center">
                                <div class="text-2xl font-bold text-blue-600">156kg</div>
                                <div class="text-sm text-gray-500">Bu Ay Toplam</div>
                            </div>
                            <div class="bg-white rounded-xl shadow-lg p-4 text-center">
                                <div class="text-2xl font-bold text-green-600">3,120</div>
                                <div class="text-sm text-gray-500">Toplam Puan</div>
                            </div>
                        </div>
                        
                        <!-- History List -->
                        <div class="bg-white rounded-2xl shadow-lg p-4">
                            <h3 class="font-bold text-gray-800 mb-4">Son 30 Gün</h3>
                            <div class="space-y-3 max-h-96 overflow-y-auto">
                                <div class="flex items-center justify-between p-3 border-l-4 border-green-500 bg-green-50 rounded">
                                    <div>
                                        <p class="font-semibold text-sm">12kg Beyaz Ekmek</p>
                                        <p class="text-xs text-gray-500">Bugün, 14:30</p>
                                    </div>
                                    <span class="text-green-600 font-bold">+240p</span>
                                </div>
                                <div class="flex items-center justify-between p-3 border-l-4 border-green-500 bg-green-50 rounded">
                                    <div>
                                        <p class="font-semibold text-sm">8kg Tam Buğday</p>
                                        <p class="text-xs text-gray-500">Dün, 16:45</p>
                                    </div>
                                    <span class="text-green-600 font-bold">+160p</span>
                                </div>
                                <div class="flex items-center justify-between p-3 border-l-4 border-green-500 bg-green-50 rounded">
                                    <div>
                                        <p class="font-semibold text-sm">15kg Karışık</p>
                                        <p class="text-xs text-gray-500">2 gün önce, 11:20</p>
                                    </div>
                                    <span class="text-green-600 font-bold">+300p</span>
                                </div>
                                <div class="flex items-center justify-between p-3 border-l-4 border-green-500 bg-green-50 rounded">
                                    <div>
                                        <p class="font-semibold text-sm">6kg Çavdar</p>
                                        <p class="text-xs text-gray-500">3 gün önce, 09:15</p>
                                    </div>
                                    <span class="text-green-600 font-bold">+120p</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Rewards Screen -->
                <div id="rewards-screen" class="h-full flex-col hidden overflow-hidden">
                    <div class="bg-purple-600 text-white p-6 pb-8">
                        <div class="flex items-center mb-4">
                            <button onclick="showHomeScreen()" class="mr-4">
                                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path>
                                </svg>
                            </button>
                            <h1 class="text-xl font-bold elegant-title">Ödüller</h1>
                        </div>
                        <p class="text-purple-200">Puanlarınızla ödül kazanın</p>
                    </div>
                    
                    <div class="flex-1 p-6 -mt-4 overflow-y-auto">
                        <!-- Available Points -->
                        <div class="bg-white rounded-2xl shadow-lg p-6 mb-6 text-center">
                            <p class="text-gray-600 mb-2">Kullanılabilir Puan</p>
                            <p class="text-4xl font-bold text-purple-600">2,847</p>
                        </div>
                        
                        <!-- Rewards List -->
                        <div class="space-y-4">
                            <div class="bg-white rounded-2xl shadow-lg p-4 flex items-center justify-between">
                                <div class="flex items-center">
                                    <svg class="w-8 h-8 text-orange-600 mr-4" fill="currentColor" viewBox="0 0 24 24">
                                        <path d="M2 21h19v-3H2v3zM20 8H4V6c0-1.1.9-2 2-2h12c1.1 0 2 .9 2 2v2zm-8.5 0h-3V6h3v2zm7-4H4c-1.1 0-2 .9-2 2v2c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2z"/>
                                    </svg>
                                    <div>
                                        <p class="font-semibold">Ücretsiz Kahve</p>
                                        <p class="text-sm text-gray-500">Yerel kafelerden</p>
                                    </div>
                                </div>
                                <div class="text-right">
                                    <p class="font-bold text-orange-600">500p</p>
                                    <button class="bg-orange-500 text-white px-4 py-2 rounded-lg text-sm font-semibold hover:bg-orange-600">Al</button>
                                </div>
                            </div>
                            
                            <div class="bg-white rounded-2xl shadow-lg p-4 flex items-center justify-between">
                                <div class="flex items-center">
                                    <svg class="w-8 h-8 text-green-600 mr-4" fill="currentColor" viewBox="0 0 24 24">
                                        <path d="M18 9V7c0-2.21-1.79-4-4-4H8C5.79 3 4 4.79 4 7v2c-1.1 0-2 .9-2 2v8c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2v-8c0-1.1-.9-2-2-2zm-8-4h4c1.1 0 2 .9 2 2v2H8V7c0-1.1.9-2 2-2z"/>
                                    </svg>
                                    <div>
                                        <p class="font-semibold">koji Ürünleri</p>
                                        <p class="text-sm text-gray-500">%20 indirim</p>
                                    </div>
                                </div>
                                <div class="text-right">
                                    <p class="font-bold text-green-600">800p</p>
                                    <button class="bg-green-500 text-white px-4 py-2 rounded-lg text-sm font-semibold hover:bg-green-600">Al</button>
                                </div>
                            </div>
                            
                            <div class="bg-white rounded-2xl shadow-lg p-4 flex items-center justify-between">
                                <div class="flex items-center">
                                    <svg class="w-8 h-8 text-green-600 mr-4" fill="currentColor" viewBox="0 0 24 24">
                                        <path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"/>
                                    </svg>
                                    <div>
                                        <p class="font-semibold">Ağaç Dikimi</p>
                                        <p class="text-sm text-gray-500">Adınıza ağaç</p>
                                    </div>
                                </div>
                                <div class="text-right">
                                    <p class="font-bold text-green-600">1,200p</p>
                                    <button class="bg-green-500 text-white px-4 py-2 rounded-lg text-sm font-semibold hover:bg-green-600">Al</button>
                                </div>
                            </div>
                            
                            <div class="bg-white rounded-2xl shadow-lg p-4 flex items-center justify-between opacity-50">
                                <div class="flex items-center">
                                    <svg class="w-8 h-8 text-gray-400 mr-4" fill="currentColor" viewBox="0 0 24 24">
                                        <path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"/>
                                    </svg>
                                    <div>
                                        <p class="font-semibold">Özel Hediye Paketi</p>
                                        <p class="text-sm text-gray-500">Fermente ürün seti</p>
                                    </div>
                                </div>
                                <div class="text-right">
                                    <p class="font-bold text-gray-400">3,000p</p>
                                    <button class="bg-gray-300 text-gray-500 px-4 py-2 rounded-lg text-sm font-semibold cursor-not-allowed">Yetersiz</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Map Screen -->
                <div id="map-screen" class="h-full flex-col hidden overflow-hidden">
                    <div class="bg-orange-600 text-white p-6 pb-8">
                        <div class="flex items-center mb-4">
                            <button onclick="showHomeScreen()" class="mr-4">
                                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path>
                                </svg>
                            </button>
                            <h1 class="text-xl font-bold elegant-title">Ekmek Haritası</h1>
                        </div>
                        <p class="text-orange-200">Hazır ekmekleri keşfedin</p>
                    </div>
                    
                    <div class="flex-1 p-6 -mt-4 overflow-y-auto">
                        <!-- Alert Summary -->
                        <div class="bg-red-50 border border-red-200 rounded-2xl p-4 mb-6">
                            <div class="flex items-center justify-between">
                                <div class="flex items-center">
                                    <span class="text-red-500 text-2xl mr-3">🚨</span>
                                    <div>
                                        <p class="font-bold text-red-700">Acil Toplama</p>
                                        <p class="text-sm text-red-600">3 firma ekmek hazır</p>
                                    </div>
                                </div>
                                <button class="bg-red-500 text-white px-4 py-2 rounded-lg text-sm font-semibold">
                                    Hepsini Gör
                                </button>
                            </div>
                        </div>
                        
                        <!-- Map Container -->
                        <div class="bg-white rounded-2xl shadow-lg mb-6 overflow-hidden">
                            <div class="h-80 relative" style="background: linear-gradient(135deg, #e8f5e8 0%, #f0f8ff 30%, #fff8dc 60%, #f5f5dc 100%);">
                                <!-- Street Grid Pattern -->
                                <svg class="absolute inset-0 w-full h-full opacity-20" viewBox="0 0 400 320">
                                    <!-- Horizontal Streets -->
                                    <line x1="0" y1="80" x2="400" y2="80" stroke="#666" stroke-width="2"/>
                                    <line x1="0" y1="160" x2="400" y2="160" stroke="#666" stroke-width="3"/>
                                    <line x1="0" y1="240" x2="400" y2="240" stroke="#666" stroke-width="2"/>
                                    
                                    <!-- Vertical Streets -->
                                    <line x1="100" y1="0" x2="100" y2="320" stroke="#666" stroke-width="2"/>
                                    <line x1="200" y1="0" x2="200" y2="320" stroke="#666" stroke-width="3"/>
                                    <line x1="300" y1="0" x2="300" y2="320" stroke="#666" stroke-width="2"/>
                                    
                                    <!-- Buildings -->
                                    <rect x="50" y="50" width="40" height="25" fill="#ddd" opacity="0.6"/>
                                    <rect x="110" y="40" width="35" height="35" fill="#ddd" opacity="0.6"/>
                                    <rect x="250" y="60" width="45" height="20" fill="#ddd" opacity="0.6"/>
                                    <rect x="320" y="45" width="30" height="30" fill="#ddd" opacity="0.6"/>
                                    
                                    <rect x="60" y="180" width="35" height="30" fill="#ddd" opacity="0.6"/>
                                    <rect x="150" y="190" width="40" height="25" fill="#ddd" opacity="0.6"/>
                                    <rect x="280" y="185" width="35" height="35" fill="#ddd" opacity="0.6"/>
                                    
                                    <rect x="80" y="260" width="30" height="25" fill="#ddd" opacity="0.6"/>
                                    <rect x="220" y="270" width="45" height="20" fill="#ddd" opacity="0.6"/>
                                    <rect x="310" y="265" width="35" height="30" fill="#ddd" opacity="0.6"/>
                                </svg>
                                
                                <!-- Park Areas -->
                                <div class="absolute top-4 right-4 w-16 h-12 bg-green-200 rounded-lg opacity-40 flex items-center justify-center">
                                    <span class="text-green-600 text-xs">🌳</span>
                                </div>
                                <div class="absolute bottom-8 left-8 w-20 h-16 bg-green-200 rounded-lg opacity-40 flex items-center justify-center">
                                    <span class="text-green-600 text-sm">🌲</span>
                                </div>
                                
                                <!-- Water Feature -->
                                <div class="absolute top-1/2 left-1/4 w-24 h-3 bg-blue-200 rounded-full opacity-50 transform -translate-y-1/2"></div>
                                
                                <!-- Location Pins with Enhanced Design -->
                                <div class="absolute top-12 left-16 group cursor-pointer">
                                    <div class="relative">
                                        <!-- Pin Shadow -->
                                        <div class="absolute top-8 left-1/2 transform -translate-x-1/2 w-6 h-2 bg-black opacity-20 rounded-full blur-sm"></div>
                                        
                                        <!-- Urgent Pin -->
                                        <div class="bg-red-500 text-white rounded-full w-10 h-10 flex items-center justify-center text-lg font-bold shadow-xl border-4 border-white animate-pulse">
                                            <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24">
                                                <path d="M18 9V7c0-2.21-1.79-4-4-4H8C5.79 3 4 4.79 4 7v2c-1.1 0-2 .9-2 2v8c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2v-8c0-1.1-.9-2-2-2zm-8-4h4c1.1 0 2 .9 2 2v2H8V7c0-1.1.9-2 2-2z"/>
                                            </svg>
                                        </div>
                                        
                                        <!-- Ripple Effect -->
                                        <div class="absolute inset-0 bg-red-400 rounded-full animate-ping opacity-30"></div>
                                        
                                        <!-- Info Popup -->
                                        <div class="absolute -top-20 left-1/2 transform -translate-x-1/2 bg-white rounded-xl shadow-2xl p-3 min-w-max opacity-0 group-hover:opacity-100 transition-opacity border border-red-200">
                                            <div class="text-center">
                                                <p class="font-bold text-red-700 text-sm">Fırın Usta</p>
                                                <p class="text-red-600 text-xs">15kg hazır!</p>
                                                <p class="text-gray-500 text-xs">+300 puan</p>
                                            </div>
                                            <!-- Arrow -->
                                            <div class="absolute top-full left-1/2 transform -translate-x-1/2 w-0 h-0 border-l-4 border-r-4 border-t-4 border-transparent border-t-white"></div>
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="absolute top-24 right-12 group cursor-pointer">
                                    <div class="relative">
                                        <div class="absolute top-8 left-1/2 transform -translate-x-1/2 w-6 h-2 bg-black opacity-20 rounded-full blur-sm"></div>
                                        
                                        <div class="bg-red-500 text-white rounded-full w-10 h-10 flex items-center justify-center text-lg font-bold shadow-xl border-4 border-white animate-pulse" style="animation-delay: 0.5s;">
                                            <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24">
                                                <path d="M2 21h19v-3H2v3zM20 8H4V6c0-1.1.9-2 2-2h12c1.1 0 2 .9 2 2v2zm-8.5 0h-3V6h3v2zm7-4H4c-1.1 0-2 .9-2 2v2c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2z"/>
                                            </svg>
                                        </div>
                                        
                                        <div class="absolute inset-0 bg-red-400 rounded-full animate-ping opacity-30" style="animation-delay: 0.5s;"></div>
                                        
                                        <div class="absolute -top-20 left-1/2 transform -translate-x-1/2 bg-white rounded-xl shadow-2xl p-3 min-w-max opacity-0 group-hover:opacity-100 transition-opacity border border-red-200">
                                            <div class="text-center">
                                                <p class="font-bold text-red-700 text-sm">Café Latte</p>
                                                <p class="text-red-600 text-xs">8kg hazır!</p>
                                                <p class="text-gray-500 text-xs">+160 puan</p>
                                            </div>
                                            <div class="absolute top-full left-1/2 transform -translate-x-1/2 w-0 h-0 border-l-4 border-r-4 border-t-4 border-transparent border-t-white"></div>
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="absolute bottom-16 left-1/2 transform -translate-x-1/2 group cursor-pointer">
                                    <div class="relative">
                                        <div class="absolute top-8 left-1/2 transform -translate-x-1/2 w-6 h-2 bg-black opacity-20 rounded-full blur-sm"></div>
                                        
                                        <div class="bg-yellow-500 text-white rounded-full w-10 h-10 flex items-center justify-center text-lg font-bold shadow-xl border-4 border-white animate-bounce">
                                            <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24">
                                                <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/>
                                            </svg>
                                        </div>
                                        
                                        <div class="absolute inset-0 bg-yellow-400 rounded-full animate-ping opacity-20"></div>
                                        
                                        <div class="absolute -top-20 left-1/2 transform -translate-x-1/2 bg-white rounded-xl shadow-2xl p-3 min-w-max opacity-0 group-hover:opacity-100 transition-opacity border border-yellow-200">
                                            <div class="text-center">
                                                <p class="font-bold text-yellow-700 text-sm">Simit Sarayı</p>
                                                <p class="text-yellow-600 text-xs">5kg yakında</p>
                                                <p class="text-gray-500 text-xs">~100 puan</p>
                                            </div>
                                            <div class="absolute top-full left-1/2 transform -translate-x-1/2 w-0 h-0 border-l-4 border-r-4 border-t-4 border-transparent border-t-white"></div>
                                        </div>
                                    </div>
                                </div>
                                
                                <!-- Additional Locations -->
                                <div class="absolute top-1/2 left-8 group cursor-pointer">
                                    <div class="relative">
                                        <div class="absolute top-8 left-1/2 transform -translate-x-1/2 w-6 h-2 bg-black opacity-20 rounded-full blur-sm"></div>
                                        
                                        <div class="bg-gray-400 text-white rounded-full w-8 h-8 flex items-center justify-center text-sm font-bold shadow-lg border-3 border-white">
                                            <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 24 24">
                                                <path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"/>
                                            </svg>
                                        </div>
                                        
                                        <div class="absolute -top-16 left-1/2 transform -translate-x-1/2 bg-white rounded-lg shadow-xl p-2 min-w-max opacity-0 group-hover:opacity-100 transition-opacity text-xs">
                                            <p class="font-bold text-gray-700">Market Plus</p>
                                            <p class="text-gray-500">Henüz yok</p>
                                        </div>
                                    </div>
                                </div>
                                
                                <!-- Your Location with Pulse Effect -->
                                <div class="absolute bottom-12 right-16 group cursor-pointer">
                                    <div class="relative">
                                        <div class="absolute top-8 left-1/2 transform -translate-x-1/2 w-6 h-2 bg-black opacity-20 rounded-full blur-sm"></div>
                                        
                                        <div class="bg-blue-500 text-white rounded-full w-12 h-12 flex items-center justify-center text-xl font-bold shadow-xl border-4 border-white relative">
                                            <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24">
                                                <path d="M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z"/>
                                            </svg>
                                            <!-- Pulse rings -->
                                            <div class="absolute inset-0 bg-blue-400 rounded-full animate-ping opacity-40"></div>
                                            <div class="absolute inset-0 bg-blue-300 rounded-full animate-ping opacity-20" style="animation-delay: 0.5s;"></div>
                                        </div>
                                        
                                        <div class="absolute -top-16 left-1/2 transform -translate-x-1/2 bg-blue-50 rounded-lg shadow-xl p-2 min-w-max opacity-0 group-hover:opacity-100 transition-opacity border border-blue-200">
                                            <p class="font-bold text-blue-700 text-sm">Konumunuz</p>
                                            <p class="text-blue-600 text-xs">Beşiktaş</p>
                                        </div>
                                    </div>
                                </div>
                                
                                <!-- Route Lines -->
                                <svg class="absolute inset-0 w-full h-full pointer-events-none">
                                    <!-- Route to nearest urgent location -->
                                    <path d="M 280 300 Q 200 250 80 60" stroke="#3b82f6" stroke-width="3" fill="none" stroke-dasharray="8,4" opacity="0.6"/>
                                    <path d="M 280 300 Q 320 200 320 120" stroke="#3b82f6" stroke-width="3" fill="none" stroke-dasharray="8,4" opacity="0.6"/>
                                </svg>
                                
                                <!-- Distance Labels -->
                                <div class="absolute top-20 left-1/2 transform -translate-x-1/2 bg-blue-500 text-white px-2 py-1 rounded-full text-xs font-bold">
                                    0.8km
                                </div>
                                <div class="absolute top-1/2 right-8 transform -translate-y-1/2 bg-blue-500 text-white px-2 py-1 rounded-full text-xs font-bold">
                                    1.2km
                                </div>
                            </div>
                            
                            <!-- Map Controls -->
                            <div class="p-4 bg-gray-50 flex justify-between items-center">
                                <div class="flex space-x-2">
                                    <button class="bg-red-500 text-white px-3 py-1 rounded-full text-xs font-semibold flex items-center">
                                        <svg class="w-3 h-3 mr-1" fill="currentColor" viewBox="0 0 24 24">
                                            <path d="M1 21h22L12 2 1 21zm12-3h-2v-2h2v2zm0-4h-2v-4h2v4z"/>
                                        </svg>
                                        Acil (2)
                                    </button>
                                    <button class="bg-yellow-500 text-white px-3 py-1 rounded-full text-xs font-semibold flex items-center">
                                        <svg class="w-3 h-3 mr-1" fill="currentColor" viewBox="0 0 24 24">
                                            <path d="M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"/>
                                        </svg>
                                        Yakında (1)
                                    </button>
                                    <button class="bg-green-500 text-white px-3 py-1 rounded-full text-xs font-semibold flex items-center">
                                        <svg class="w-3 h-3 mr-1" fill="currentColor" viewBox="0 0 24 24">
                                            <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/>
                                        </svg>
                                        Hazır (0)
                                    </button>
                                </div>
                                <button class="text-gray-600 text-sm">🔄 Yenile</button>
                            </div>
                        </div>
                        
                        <!-- Nearby Alerts List -->
                        <div class="bg-white rounded-2xl shadow-lg p-4">
                            <h3 class="font-bold text-gray-800 mb-4 flex items-center">
                                <span class="text-orange-600 mr-2">📍</span>
                                Yakındaki Firmalar
                            </h3>
                            
                            <div class="space-y-3">
                                <!-- Urgent Alert -->
                                <div class="border-l-4 border-red-500 bg-red-50 p-4 rounded-r-lg">
                                    <div class="flex items-center justify-between mb-2">
                                        <div class="flex items-center">
                                            <span class="text-red-500 mr-2">🚨</span>
                                            <div>
                                                <p class="font-bold text-red-700">Fırın Usta</p>
                                                <p class="text-sm text-red-600">Beşiktaş • 0.8 km</p>
                                            </div>
                                        </div>
                                        <div class="text-right">
                                            <p class="font-bold text-red-700">15kg</p>
                                            <p class="text-xs text-red-600">2 saat önce</p>
                                        </div>
                                    </div>
                                    <div class="flex space-x-2">
                                        <button class="bg-red-500 text-white px-4 py-2 rounded-lg text-sm font-semibold flex-1">
                                            📞 Ara
                                        </button>
                                        <button class="bg-blue-500 text-white px-4 py-2 rounded-lg text-sm font-semibold flex-1">
                                            🗺️ Yol Tarifi
                                        </button>
                                    </div>
                                </div>
                                
                                <!-- Another Urgent Alert -->
                                <div class="border-l-4 border-red-500 bg-red-50 p-4 rounded-r-lg">
                                    <div class="flex items-center justify-between mb-2">
                                        <div class="flex items-center">
                                            <span class="text-red-500 mr-2">🚨</span>
                                            <div>
                                                <p class="font-bold text-red-700">Café Latte</p>
                                                <p class="text-sm text-red-600">Şişli • 1.2 km</p>
                                            </div>
                                        </div>
                                        <div class="text-right">
                                            <p class="font-bold text-red-700">8kg</p>
                                            <p class="text-xs text-red-600">1 saat önce</p>
                                        </div>
                                    </div>
                                    <div class="flex space-x-2">
                                        <button class="bg-red-500 text-white px-4 py-2 rounded-lg text-sm font-semibold flex-1">
                                            📞 Ara
                                        </button>
                                        <button class="bg-blue-500 text-white px-4 py-2 rounded-lg text-sm font-semibold flex-1">
                                            🗺️ Yol Tarifi
                                        </button>
                                    </div>
                                </div>
                                
                                <!-- Upcoming Alert -->
                                <div class="border-l-4 border-yellow-500 bg-yellow-50 p-4 rounded-r-lg">
                                    <div class="flex items-center justify-between mb-2">
                                        <div class="flex items-center">
                                            <span class="text-yellow-600 mr-2">⏰</span>
                                            <div>
                                                <p class="font-bold text-yellow-700">Simit Sarayı</p>
                                                <p class="text-sm text-yellow-600">Taksim • 2.1 km</p>
                                            </div>
                                        </div>
                                        <div class="text-right">
                                            <p class="font-bold text-yellow-700">~5kg</p>
                                            <p class="text-xs text-yellow-600">2 saat içinde</p>
                                        </div>
                                    </div>
                                    <div class="flex space-x-2">
                                        <button class="bg-yellow-500 text-white px-4 py-2 rounded-lg text-sm font-semibold flex-1">
                                            🔔 Hatırlat
                                        </button>
                                        <button class="bg-blue-500 text-white px-4 py-2 rounded-lg text-sm font-semibold flex-1">
                                            🗺️ Yol Tarifi
                                        </button>
                                    </div>
                                </div>
                                
                                <!-- Normal Status -->
                                <div class="border-l-4 border-gray-300 bg-gray-50 p-4 rounded-r-lg">
                                    <div class="flex items-center justify-between">
                                        <div class="flex items-center">
                                            <span class="text-gray-500 mr-2">🏪</span>
                                            <div>
                                                <p class="font-bold text-gray-700">Pastane Güzel</p>
                                                <p class="text-sm text-gray-600">Kadıköy • 3.5 km</p>
                                            </div>
                                        </div>
                                        <div class="text-right">
                                            <p class="text-sm text-gray-600">Henüz ekmek yok</p>
                                            <p class="text-xs text-gray-500">Son: dün</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Business Dashboard Screen -->
                <div id="business-screen" class="h-full flex-col hidden overflow-hidden">
                    <!-- Header -->
                    <div class="bg-orange-600 text-white p-6 pb-8">
                        <div class="flex items-center mb-4">
                            <div class="w-12 h-12 bg-white/20 rounded-full flex items-center justify-center mr-4">
                                <span class="text-2xl">🏪</span>
                            </div>
                            <div>
                                <h1 class="text-xl font-bold elegant-title">Merhaba, Fırın Usta!</h1>
                                <p class="text-orange-200 text-sm">İşletme Paneli</p>
                            </div>
                        </div>
                        
                        <!-- Status Display -->
                        <div class="bg-white/10 rounded-2xl p-4 backdrop-blur-sm">
                            <div class="flex items-center justify-between">
                                <div>
                                    <p class="text-orange-200 text-sm">Bu Ay Verilen Ekmek</p>
                                    <p class="text-3xl font-bold">247kg</p>
                                </div>
                                <div class="text-right">
                                    <p class="text-orange-200 text-sm">CO2 Tasarrufu</p>
                                    <p class="text-2xl font-bold">296kg</p>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="flex-1 p-6 -mt-4 overflow-y-auto">
                        <!-- Quick Actions for Business -->
                        <div class="bg-white rounded-2xl shadow-lg p-4 mb-6">
                            <h3 class="font-bold text-gray-800 mb-4 flex items-center">
                                <span class="text-orange-600 text-xl mr-2">⚡</span>
                                Hızlı İşlemler
                            </h3>
                            <div class="grid grid-cols-2 gap-3">
                                <button onclick="showBreadNotification()" class="bg-red-50 border border-red-200 rounded-xl p-4 text-center hover:bg-red-100 transition-colors">
                                    <span class="text-2xl block mb-2">🚨</span>
                                    <span class="text-sm font-semibold text-red-700">Ekmek Hazır</span>
                                </button>
                                <button onclick="showSchedulePickup()" class="bg-blue-50 border border-blue-200 rounded-xl p-4 text-center hover:bg-blue-100 transition-colors">
                                    <span class="text-2xl block mb-2">📅</span>
                                    <span class="text-sm font-semibold text-blue-700">Toplama Planla</span>
                                </button>
                                <button onclick="showBusinessHistory()" class="bg-green-50 border border-green-200 rounded-xl p-4 text-center hover:bg-green-100 transition-colors">
                                    <span class="text-2xl block mb-2">📊</span>
                                    <span class="text-sm font-semibold text-green-700">Geçmiş</span>
                                </button>
                                <button onclick="showBusinessSettings()" class="bg-purple-50 border border-purple-200 rounded-xl p-4 text-center hover:bg-purple-100 transition-colors">
                                    <span class="text-2xl block mb-2">⚙️</span>
                                    <span class="text-sm font-semibold text-purple-700">Ayarlar</span>
                                </button>
                            </div>
                        </div>
                        
                        <!-- Current Status -->
                        <div class="bg-white rounded-2xl shadow-lg p-4 mb-6">
                            <h3 class="font-bold text-gray-800 mb-4 flex items-center">
                                <span class="text-orange-600 text-xl mr-2">📋</span>
                                Mevcut Durum
                            </h3>
                            <div class="space-y-3">
                                <div class="flex items-center justify-between p-3 bg-green-50 rounded-lg">
                                    <div class="flex items-center">
                                        <span class="text-green-600 mr-3">✅</span>
                                        <div>
                                            <p class="font-semibold text-sm">Son Toplama</p>
                                            <p class="text-xs text-gray-500">15kg - Bugün 14:30</p>
                                        </div>
                                    </div>
                                    <span class="text-green-600 font-bold">Tamamlandı</span>
                                </div>
                                <div class="flex items-center justify-between p-3 bg-yellow-50 rounded-lg">
                                    <div class="flex items-center">
                                        <span class="text-yellow-600 mr-3">⏰</span>
                                        <div>
                                            <p class="font-semibold text-sm">Bekleyen Ekmek</p>
                                            <p class="text-xs text-gray-500">~8kg - Yarın sabah</p>
                                        </div>
                                    </div>
                                    <span class="text-yellow-600 font-bold">Planlandı</span>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Weekly Stats -->
                        <div class="bg-white rounded-2xl shadow-lg p-4 mb-6">
                            <h3 class="font-bold text-gray-800 mb-4 flex items-center">
                                <span class="text-orange-600 text-xl mr-2">📈</span>
                                Bu Hafta
                            </h3>
                            <div class="grid grid-cols-3 gap-4">
                                <div class="text-center">
                                    <div class="text-2xl font-bold text-orange-600">47kg</div>
                                    <div class="text-xs text-gray-500">Verilen Ekmek</div>
                                </div>
                                <div class="text-center">
                                    <div class="text-2xl font-bold text-green-600">12</div>
                                    <div class="text-xs text-gray-500">Toplama Sayısı</div>
                                </div>
                                <div class="text-center">
                                    <div class="text-2xl font-bold text-blue-600">56kg</div>
                                    <div class="text-xs text-gray-500">CO2 Tasarrufu</div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Pickup Schedule -->
                        <div class="bg-white rounded-2xl shadow-lg p-4">
                            <h3 class="font-bold text-gray-800 mb-4 flex items-center">
                                <span class="text-orange-600 text-xl mr-2">🚚</span>
                                Toplama Programı
                            </h3>
                            <div class="space-y-3">
                                <div class="flex items-center justify-between p-3 bg-blue-50 rounded-lg">
                                    <div>
                                        <p class="font-semibold text-sm">Pazartesi - Çarşamba - Cuma</p>
                                        <p class="text-xs text-gray-500">Sabah 09:00 - 11:00</p>
                                    </div>
                                    <button class="text-blue-600 text-sm font-semibold">Düzenle</button>
                                </div>
                                <div class="flex items-center justify-between p-3 bg-gray-50 rounded-lg">
                                    <div>
                                        <p class="font-semibold text-sm">Acil Toplama</p>
                                        <p class="text-xs text-gray-500">İhtiyaç halinde 24/7</p>
                                    </div>
                                    <button class="bg-red-500 text-white px-3 py-1 rounded-lg text-sm font-semibold">Çağır</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Impact Screen -->
                <div id="impact-screen" class="h-full flex-col hidden overflow-hidden">
                    <div class="bg-green-600 text-white p-6 pb-8">
                        <div class="flex items-center mb-4">
                            <button onclick="showHomeScreen()" class="mr-4">
                                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path>
                                </svg>
                            </button>
                            <h1 class="text-xl font-bold elegant-title">Çevresel Etkimiz</h1>
                        </div>
                        <p class="text-green-200">Birlikte yarattığımız değişim</p>
                    </div>
                    
                    <div class="flex-1 p-6 -mt-4 overflow-y-auto">
                        <!-- Personal Impact -->
                        <div class="bg-white rounded-2xl shadow-lg p-6 mb-6">
                            <h3 class="font-bold text-gray-800 mb-4 flex items-center">
                                <span class="text-green-600 mr-2">🌱</span>
                                Sizin Katkınız
                            </h3>
                            <div class="grid grid-cols-2 gap-4">
                                <div class="text-center p-4 bg-green-50 rounded-xl">
                                    <div class="text-2xl font-bold text-green-600">156kg</div>
                                    <div class="text-sm text-gray-600">Kurtarılan Ekmek</div>
                                </div>
                                <div class="text-center p-4 bg-blue-50 rounded-xl">
                                    <div class="text-2xl font-bold text-blue-600">187kg</div>
                                    <div class="text-sm text-gray-600">CO2 Tasarrufu</div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Community Impact -->
                        <div class="bg-white rounded-2xl shadow-lg p-6 mb-6">
                            <h3 class="font-bold text-gray-800 mb-4 flex items-center">
                                <span class="text-purple-600 mr-2">🤝</span>
                                Toplumsal Etki
                            </h3>
                            <div class="space-y-4">
                                <div class="flex items-center justify-between p-3 bg-purple-50 rounded-lg">
                                    <span class="text-sm">Bu ay toplanan ekmek</span>
                                    <span class="font-bold text-purple-600">2.4 ton</span>
                                </div>
                                <div class="flex items-center justify-between p-3 bg-green-50 rounded-lg">
                                    <span class="text-sm">Önlenen CO2 salımı</span>
                                    <span class="font-bold text-green-600">2.88 ton</span>
                                </div>
                                <div class="flex items-center justify-between p-3 bg-blue-50 rounded-lg">
                                    <span class="text-sm">Aktif partner sayısı</span>
                                    <span class="font-bold text-blue-600">47</span>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Achievement Badges -->
                        <div class="bg-white rounded-2xl shadow-lg p-6">
                            <h3 class="font-bold text-gray-800 mb-4 flex items-center">
                                <span class="text-yellow-600 mr-2">🏆</span>
                                Başarı Rozetleri
                            </h3>
                            <div class="grid grid-cols-3 gap-4">
                                <div class="text-center p-3 bg-yellow-50 rounded-xl">
                                    <span class="text-2xl block mb-2">🥉</span>
                                    <span class="text-xs font-semibold">İlk 100kg</span>
                                </div>
                                <div class="text-center p-3 bg-gray-50 rounded-xl opacity-50">
                                    <span class="text-2xl block mb-2">🥈</span>
                                    <span class="text-xs font-semibold">500kg Hedefi</span>
                                </div>
                                <div class="text-center p-3 bg-gray-50 rounded-xl opacity-50">
                                    <span class="text-2xl block mb-2">🥇</span>
                                    <span class="text-xs font-semibold">1 Ton Hedefi</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            

        </div>
    </div>
    
    <!-- Voice Assistant Button -->
    <div class="voice-assistant" onclick="toggleVoiceAssistant()" title="Sesli Asistan">
        <svg id="voice-icon" class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24">
            <path d="M12 14c1.66 0 2.99-1.34 2.99-3L15 5c0-1.66-1.34-3-3-3S9 3.34 9 5v6c0 1.66 1.34 3 3 3zm5.3-3c0 3-2.54 5.1-5.3 5.1S6.7 14 6.7 11H5c0 3.41 2.72 6.23 6 6.72V21h2v-3.28c3.28-.48 6-3.3 6-6.72h-1.7z"/>
        </svg>
    </div>
    
    <!-- Voice Status Indicator -->
    <div id="voice-status" class="voice-status">Dinliyorum...</div>
    
    <!-- Voice Commands Help -->
    <div id="voice-help" class="voice-help">
        <h4>Sesli Komutlar</h4>
        <ul>
            <li>"Ana sayfaya git"</li>
            <li>"Ekmek teslim et"</li>
            <li>"Geçmişi göster"</li>
            <li>"Haritayı aç"</li>
            <li>"Ödülleri göster"</li>
            <li>"Etkimi göster"</li>
            <li>"Menüyü aç"</li>
        </ul>
    </div>

    <!-- Success Modal -->
    <div id="success-modal" class="fixed inset-0 bg-black/50 flex items-center justify-center hidden z-50">
        <div class="bg-white rounded-2xl p-8 mx-4 text-center max-w-sm">
            <div class="text-6xl mb-4 bounce">🎉</div>
            <h3 class="text-xl font-bold text-gray-800 mb-2">Tebrikler!</h3>
            <p class="text-gray-600 mb-4">Ekmek tesliminiz başarıyla kaydedildi.</p>
            <div class="bg-green-50 rounded-xl p-4 mb-4">
                <p class="text-green-700 font-semibold" id="earned-points">+240 puan kazandınız!</p>
            </div>
            <button onclick="closeSuccessModal()" class="w-full bg-brand text-white py-3 rounded-xl font-semibold">Tamam</button>
        </div>
    </div>

    <script>
        // Role selection function
        function selectRole(role) {
            if (role === 'business') {
                showBusinessScreen();
            } else if (role === 'volunteer') {
                showHomeScreen();
            }
        }
        
        // Screen navigation functions
        function showRoleScreen() {
            hideAllScreens();
            document.getElementById('role-screen').classList.remove('hidden');
            document.getElementById('role-screen').classList.add('flex');
        }
        
        function showBusinessScreen() {
            hideAllScreens();
            document.getElementById('business-screen').classList.remove('hidden');
            document.getElementById('business-screen').classList.add('flex');
            updateTabActive('business');
        }
        
        function showHomeScreen() {
            hideAllScreens();
            document.getElementById('home-screen').classList.remove('hidden');
            document.getElementById('home-screen').classList.add('flex');
            updateTabActive('home');
        }
        
        function showCollectionScreen() {
            hideAllScreens();
            document.getElementById('collection-screen').classList.remove('hidden');
            document.getElementById('collection-screen').classList.add('flex');
            updateTabActive('collection');
        }
        
        function showHistoryScreen() {
            hideAllScreens();
            document.getElementById('history-screen').classList.remove('hidden');
            document.getElementById('history-screen').classList.add('flex');
            updateTabActive('history');
        }
        
        function showRewardsScreen() {
            hideAllScreens();
            document.getElementById('rewards-screen').classList.remove('hidden');
            document.getElementById('rewards-screen').classList.add('flex');
            updateTabActive('rewards');
        }
        
        function showMapScreen() {
            hideAllScreens();
            document.getElementById('map-screen').classList.remove('hidden');
            document.getElementById('map-screen').classList.add('flex');
            updateTabActive('map');
        }
        
        function showImpactScreen() {
            hideAllScreens();
            document.getElementById('impact-screen').classList.remove('hidden');
            document.getElementById('impact-screen').classList.add('flex');
            updateTabActive('impact');
        }
        
        function hideAllScreens() {
            const screens = ['role-screen', 'home-screen', 'business-screen', 'collection-screen', 'history-screen', 'rewards-screen', 'map-screen', 'impact-screen'];
            screens.forEach(screen => {
                document.getElementById(screen).classList.add('hidden');
                document.getElementById(screen).classList.remove('flex');
            });
        }
        
        // Business functions
        function showBreadNotification() {
            alert('Ekmek hazır bildirimi gönderildi! Gönüllüler bilgilendirilecek.');
        }
        
        function showSchedulePickup() {
            alert('Toplama planlama özelliği yakında eklenecek.');
        }
        
        function showBusinessHistory() {
            alert('İşletme geçmişi özelliği yakında eklenecek.');
        }
        
        function showBusinessSettings() {
            alert('İşletme ayarları özelliği yakında eklenecek.');
        }
        
        function updateTabActive(activeTab) {
            // Remove active class from all tabs
            document.querySelectorAll('.tab-active').forEach(tab => {
                tab.classList.remove('tab-active');
                tab.classList.add('text-gray-500');
            });
            
            // Remove active class from all menu items
            document.querySelectorAll('.menu-item').forEach(item => {
                item.classList.remove('active');
            });
            
            // Add active class to current menu item
            const menuMap = {
                'home': 'showHomeScreen()',
                'collection': 'showCollectionScreen()',
                'history': 'showHistoryScreen()',
                'rewards': 'showRewardsScreen()',
                'map': 'showMapScreen()',
                'impact': 'showImpactScreen()',
                'business': 'showBusinessScreen()'
            };
            
            if (menuMap[activeTab]) {
                const menuItem = document.querySelector(`a[onclick="${menuMap[activeTab]}"]`);
                if (menuItem) {
                    menuItem.classList.add('active');
                }
            }
            
            // Add active class to current tab (simplified for demo)
            if (activeTab === 'home') {
                const homeButton = document.querySelector('button[onclick="showHomeScreen()"]');
                if (homeButton) {
                    homeButton.classList.add('tab-active');
                    homeButton.classList.remove('text-gray-500');
                }
            }
        }
        
        // Additional menu functions
        function showSettings() {
            alert('Ayarlar sayfası yakında eklenecek.');
        }
        
        function showProfile() {
            alert('Profil sayfası yakında eklenecek.');
        }
        
        // Weight input functions
        function setWeight(weight) {
            document.getElementById('weight-input').value = weight;
            updateExpectedPoints();
        }
        
        function updateExpectedPoints() {
            const weight = document.getElementById('weight-input').value || 0;
            const points = weight * 20;
            document.getElementById('expected-points').textContent = points;
        }
        
        // Collection submission
        function submitCollection() {
            const weight = document.getElementById('weight-input').value;
            const breadType = document.querySelector('input[name="bread-type"]:checked');
            
            if (!weight || weight <= 0) {
                alert('Lütfen geçerli bir ağırlık girin.');
                return;
            }
            
            if (!breadType) {
                alert('Lütfen ekmek türünü seçin.');
                return;
            }
            
            const points = weight * 20;
            document.getElementById('earned-points').textContent = `+${points} puan kazandınız!`;
            document.getElementById('success-modal').classList.remove('hidden');
            
            // Reset form
            document.getElementById('weight-input').value = '';
            document.getElementById('expected-points').textContent = '0';
            document.querySelectorAll('input[name="bread-type"]').forEach(input => input.checked = false);
        }
        
        function closeSuccessModal() {
            document.getElementById('success-modal').classList.add('hidden');
            showHomeScreen();
        }
        
        // Weight input event listener
        document.getElementById('weight-input').addEventListener('input', updateExpectedPoints);
        
        // Side menu toggle function
        function toggleSideMenu() {
            const sideMenu = document.getElementById('side-menu');
            const burgerMenu = document.querySelector('.burger-menu');
            
            sideMenu.classList.toggle('open');
            burgerMenu.classList.toggle('active');
        }
        
        // Close menu when clicking outside
        document.addEventListener('click', function(event) {
            const sideMenu = document.getElementById('side-menu');
            const burgerMenu = document.querySelector('.burger-menu');
            
            if (!sideMenu.contains(event.target) && !burgerMenu.contains(event.target)) {
                sideMenu.classList.remove('open');
                burgerMenu.classList.remove('active');
            }
        });
        
        // Voice Assistant Variables
        let isListening = false;
        let recognition = null;
        let voiceTimeout = null;
        let helpTimeout = null;
        
        // Initialize Speech Recognition
        function initVoiceAssistant() {
            if ('webkitSpeechRecognition' in window || 'SpeechRecognition' in window) {
                const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;
                recognition = new SpeechRecognition();
                
                recognition.lang = 'tr-TR';
                recognition.continuous = false;
                recognition.interimResults = false;
                recognition.maxAlternatives = 1;
                
                recognition.onstart = function() {
                    console.log('Ses tanıma başladı');
                    showVoiceStatus('Dinliyorum...');
                };
                
                recognition.onresult = function(event) {
                    const command = event.results[0][0].transcript.toLowerCase();
                    console.log('Algılanan komut:', command);
                    processVoiceCommand(command);
                };
                
                recognition.onerror = function(event) {
                    console.error('Ses tanıma hatası:', event.error);
                    showVoiceStatus('Hata oluştu, tekrar deneyin');
                    stopListening();
                };
                
                recognition.onend = function() {
                    console.log('Ses tanıma bitti');
                    stopListening();
                };
            } else {
                console.log('Tarayıcı ses tanımayı desteklemiyor');
            }
        }
        
        // Toggle Voice Assistant
        function toggleVoiceAssistant() {
            if (!recognition) {
                alert('Tarayıcınız ses tanımayı desteklemiyor. Chrome veya Edge kullanmayı deneyin.');
                return;
            }
            
            if (isListening) {
                stopListening();
            } else {
                startListening();
            }
        }
        
        // Start Listening
        function startListening() {
            if (!recognition) return;
            
            isListening = true;
            const voiceButton = document.querySelector('.voice-assistant');
            const voiceIcon = document.getElementById('voice-icon');
            
            voiceButton.classList.add('listening');
            voiceIcon.innerHTML = '<path d="M12 14c1.66 0 2.99-1.34 2.99-3L15 5c0-1.66-1.34-3-3-3S9 3.34 9 5v6c0 1.66 1.34 3 3 3zm5.3-3c0 3-2.54 5.1-5.3 5.1S6.7 14 6.7 11H5c0 3.41 2.72 6.23 6 6.72V21h2v-3.28c3.28-.48 6-3.3 6-6.72h-1.7z"/>';
            
            try {
                recognition.start();
                
                // Auto-stop after 5 seconds
                voiceTimeout = setTimeout(() => {
                    if (isListening) {
                        recognition.stop();
                        showVoiceStatus('Zaman aşımı');
                    }
                }, 5000);
                
            } catch (error) {
                console.error('Ses tanıma başlatılamadı:', error);
                stopListening();
            }
        }
        
        // Stop Listening
        function stopListening() {
            isListening = false;
            const voiceButton = document.querySelector('.voice-assistant');
            const voiceIcon = document.getElementById('voice-icon');
            
            voiceButton.classList.remove('listening', 'processing');
            voiceIcon.innerHTML = '<path d="M12 14c1.66 0 2.99-1.34 2.99-3L15 5c0-1.66-1.34-3-3-3S9 3.34 9 5v6c0 1.66 1.34 3 3 3zm5.3-3c0 3-2.54 5.1-5.3 5.1S6.7 14 6.7 11H5c0 3.41 2.72 6.23 6 6.72V21h2v-3.28c3.28-.48 6-3.3 6-6.72h-1.7z"/>';
            
            if (voiceTimeout) {
                clearTimeout(voiceTimeout);
                voiceTimeout = null;
            }
            
            hideVoiceStatus();
        }
        
        // Process Voice Commands
        function processVoiceCommand(command) {
            const voiceButton = document.querySelector('.voice-assistant');
            const voiceIcon = document.getElementById('voice-icon');
            
            // Show processing state
            voiceButton.classList.remove('listening');
            voiceButton.classList.add('processing');
            voiceIcon.innerHTML = '<path d="M12 6v3l4-4-4-4v3c-4.42 0-8 3.58-8 8 0 1.57.46 3.03 1.24 4.26L6.7 14.8c-.45-.83-.7-1.79-.7-2.8 0-3.31 2.69-6 6-6zm6.76 1.74L17.3 9.2c.44.84.7 1.79.7 2.8 0 3.31-2.69 6-6 6v-3l-4 4 4 4v-3c4.42 0 8-3.58 8-8 0-1.57-.46-3.03-1.24-4.26z"/>';
            
            showVoiceStatus('İşleniyor...');
            
            // Process command after a short delay
            setTimeout(() => {
                let commandExecuted = false;
                
                // Navigation commands
                if (command.includes('ana sayfa') || command.includes('anasayfa') || command.includes('home')) {
                    showHomeScreen();
                    showVoiceStatus('Ana sayfaya gidiliyor');
                    commandExecuted = true;
                } else if (command.includes('ekmek teslim') || command.includes('teslim et') || command.includes('ekmek ver')) {
                    showCollectionScreen();
                    showVoiceStatus('Ekmek teslim sayfası açılıyor');
                    commandExecuted = true;
                } else if (command.includes('geçmiş') || command.includes('tarihçe') || command.includes('history')) {
                    showHistoryScreen();
                    showVoiceStatus('Geçmiş sayfası açılıyor');
                    commandExecuted = true;
                } else if (command.includes('harita') || command.includes('map') || command.includes('konum')) {
                    showMapScreen();
                    showVoiceStatus('Harita açılıyor');
                    commandExecuted = true;
                } else if (command.includes('ödül') || command.includes('reward') || command.includes('hediye')) {
                    showRewardsScreen();
                    showVoiceStatus('Ödüller sayfası açılıyor');
                    commandExecuted = true;
                } else if (command.includes('etki') || command.includes('çevre') || command.includes('impact')) {
                    showImpactScreen();
                    showVoiceStatus('Çevresel etki sayfası açılıyor');
                    commandExecuted = true;
                } else if (command.includes('işletme') || command.includes('business') || command.includes('firma')) {
                    showBusinessScreen();
                    showVoiceStatus('İşletme paneli açılıyor');
                    commandExecuted = true;
                } else if (command.includes('menü') || command.includes('menu') || command.includes('yan menü')) {
                    toggleSideMenu();
                    showVoiceStatus('Menü açılıyor');
                    commandExecuted = true;
                }
                
                // Action commands
                else if (command.includes('ağırlık') && command.includes('5')) {
                    if (document.getElementById('collection-screen').classList.contains('flex')) {
                        setWeight(5);
                        showVoiceStatus('5kg ağırlık ayarlandı');
                        commandExecuted = true;
                    }
                } else if (command.includes('ağırlık') && command.includes('10')) {
                    if (document.getElementById('collection-screen').classList.contains('flex')) {
                        setWeight(10);
                        showVoiceStatus('10kg ağırlık ayarlandı');
                        commandExecuted = true;
                    }
                } else if (command.includes('kaydet') || command.includes('teslim et') || command.includes('gönder')) {
                    if (document.getElementById('collection-screen').classList.contains('flex')) {
                        submitCollection();
                        showVoiceStatus('Teslim kaydediliyor');
                        commandExecuted = true;
                    }
                }
                
                // Help commands
                else if (command.includes('yardım') || command.includes('help') || command.includes('komut')) {
                    showVoiceHelp();
                    showVoiceStatus('Yardım gösteriliyor');
                    commandExecuted = true;
                }
                
                // If no command matched
                if (!commandExecuted) {
                    showVoiceStatus('Komut anlaşılamadı');
                    showVoiceHelp();
                }
                
                stopListening();
            }, 1000);
        }
        
        // Show Voice Status
        function showVoiceStatus(message) {
            const status = document.getElementById('voice-status');
            status.textContent = message;
            status.classList.add('show');
            
            setTimeout(() => {
                hideVoiceStatus();
            }, 3000);
        }
        
        // Hide Voice Status
        function hideVoiceStatus() {
            const status = document.getElementById('voice-status');
            status.classList.remove('show');
        }
        
        // Show Voice Help
        function showVoiceHelp() {
            const help = document.getElementById('voice-help');
            help.classList.add('show');
            
            if (helpTimeout) {
                clearTimeout(helpTimeout);
            }
            
            helpTimeout = setTimeout(() => {
                help.classList.remove('show');
            }, 5000);
        }
        
        // Hide Voice Help on click outside
        document.addEventListener('click', function(event) {
            const help = document.getElementById('voice-help');
            const voiceButton = document.querySelector('.voice-assistant');
            
            if (!help.contains(event.target) && !voiceButton.contains(event.target)) {
                help.classList.remove('show');
                if (helpTimeout) {
                    clearTimeout(helpTimeout);
                }
            }
        });
        
        // Initialize app
        initVoiceAssistant();
        showRoleScreen();
    </script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'9834e530742cc660',t:'MTc1ODU3NjU0MC4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
